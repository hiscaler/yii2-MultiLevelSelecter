function getRoute(d,c,f){var b,e=-1;for(var a=d.length-1;a>-1;a--){if(e>-1){if(e==0){return(b)}if(d[a][0]<e){b=a+","+b;e--}}else{if(d[a][f]==c){b=a.toString();e=d[a][0]}}}return(b)}function getRoutes(e,a,h){var c="",g=0;var d=a.split(",");var f=d.length-1;for(var b=0;b<e.length;b++){if(e[b][h]==d[g]){if(c){c+=","+b}else{c=b.toString()}if(g==f){return(c)}else{g++}}}return(c)}function drawSelect(obj,dicName){var argv=drawSelect.arguments;var argc=drawSelect.arguments.length;var mode=(argc>2)?argv[2]:0;var name=(argc>3)?argv[3]:"";var value=(argc>4)?argv[4]:"";var tips=(argc>5)?argv[5]:"";var datatype=(argc>6)?argv[6]:"";var msg=(argc>7)?argv[7]:"";var order=0;var disabledCount=(argc>8)?argv[8]:0;var dic=eval(dicName),objValue="";switch(mode){case 0:value=getRoute(dic,value,2);mode=5;break;case 1:value=getRoutes(dic,value,1);mode=6;break;case 2:value=getRoute(dic,value,1);mode=7;break;case 3:value=getRoutes(dic,value,2);mode=8;break}var strRoute="",arrRoute=new Array();if(value){arrRoute=value.split(",")}var strHtml="",arrHtml=new Array();var intDepth,strTitle,strValue,j,selDepth=0;for(var i=0;i<dic.length;i++){intDepth=dic[i][0];strTitle=dic[i][1];strValue=dic[i][2];if(intDepth==selDepth){if(arrHtml[selDepth]==null){order=order+1;arrHtml[selDepth]='<select class="'+name+'_id" onChange={drawSelect(this.parentNode,"'+dicName+'",'+mode+',"'+name+'",this.value,"'+tips+'","'+datatype+'","'+msg+'","'+disabledCount+'")}';if((disabledCount>0)&&order<=disabledCount){arrHtml[selDepth]=arrHtml[selDepth]+' disabled="disabled"'}arrHtml[selDepth]=arrHtml[selDepth]+">";if(tips){if(selDepth){arrHtml[selDepth]+='<option value="'+strRoute+'">'+tips+"</option>"}else{arrHtml[selDepth]+='<option value="">'+tips+"</option>"}if(arrRoute[selDepth]==null){arrRoute[selDepth]=-1}}else{if(arrRoute[selDepth]==null){arrRoute[selDepth]=i}}}if(i==arrRoute[selDepth]){arrHtml[selDepth]+='<option value="'+strRoute+i.toString()+'" selected>'+strTitle+"</option>";selDepth++;strRoute+=i.toString()+",";switch(mode){case 5:objValue=strValue;break;case 6:if(objValue){objValue+=","+strTitle}else{objValue=strTitle}break;case 7:objValue=strTitle;break;case 8:if(objValue){objValue+=","+strValue}else{objValue=strValue}break}}else{arrHtml[selDepth]+='<option value="'+strRoute+i.toString()+'">'+strTitle+"</option>"}}else{if(intDepth<selDepth){selDepth=intDepth;strRoute="";for(j=0;j<selDepth;j++){strRoute+=arrRoute[j]+","}arrHtml[selDepth]+='<option value="'+strRoute+i.toString()+'">'+strTitle+"</option>"}}}for(i=0;i<arrHtml.length;i++){strHtml+=arrHtml[i]+"</select>"}id=name.replace("[","_").replace("]","");strHtml+='<input type="hidden" value="'+objValue+'" name="'+name+'" id="'+id+'" class="'+datatype+'" title="'+msg+'">';if(obj==null){document.write(strHtml)}else{obj.innerHTML=strHtml}}function drawRootItem(c,b){for(var a=0;a<c.length;a++){if(c[a][0]==0){document.write('<option value="'+c[a][2]+'"');if(c[a][2]==b){document.write(" selected")}document.write(">"+c[a][1]+"</option>")}}};